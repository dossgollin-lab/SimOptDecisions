---
title: "SimOptDecisions"
subtitle: "A Julia framework for simulation-based decision analysis under uncertainty"
author: "Doss-Gollin Lab @ Rice CEVE"
---

::: {.callout-warning}
## Work in Progress

This package is under active development and the API may change.
:::

## What is SimOptDecisions?

SimOptDecisions helps you find good decision strategies when the future is uncertain.

You provide a simulation model and a parameterized policy. The framework runs your model across many possible futures, aggregates the results, and searches for policy parameters that perform well.

It's useful when you can simulate outcomes but can't solve for optimal decisions analytically.

## Key Vocabulary

| Term | What it means |
|------|---------------|
| **Config** | Fixed parameters that don't change across scenarios |
| **Scenario** | One possible future (your uncertain parameters) |
| **Policy** | A decision rule with tunable parameters |
| **Action** | What the policy decides at each timestep |
| **State** | Your model's internal state that evolves over time |
| **Outcome** | Result of one simulation |
| **Metric** | Summary statistic across many simulations |

## How It Works

```
┌──────────────────────────────────────────────────────────────┐
│                        You define                            │
├──────────────────────────────────────────────────────────────┤
│  Types: Config, Scenario, State, Action, Policy              │
│  Callbacks: initialize, get_action, run_timestep,            │
│             time_axis, compute_outcome                       │
└──────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌──────────────────────────────────────────────────────────────┐
│                   Framework handles                          │
├──────────────────────────────────────────────────────────────┤
│  simulate(config, scenario, policy) → run one scenario       │
│  evaluate_policy(prob, policy)      → run across scenarios   │
│  optimize(prob, backend)            → search for best params │
└──────────────────────────────────────────────────────────────┘
                              │
                              ▼
                     ┌────────────────┐
                     │  Pareto Front  │
                     └────────────────┘
```

## Callback Flow

When you call `simulate(config, scenario, policy, rng)`, here's what happens:

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    simulate(config, scenario, policy, rng)                  │
└─────────────────────────────────────────────────────────────────────────────┘
                                        │
                                        ▼
                        ┌───────────────────────────────┐
                        │  times = time_axis(config,    │
                        │                    scenario)  │
                        └───────────────────────────────┘
                                        │
                                        ▼
                        ┌───────────────────────────────┐
                        │  state = initialize(config,   │
                        │              scenario, rng)   │
                        └───────────────────────────────┘
                                        │
                                        ▼
                        ┌───────────────────────────────┐
                        │     for t in times:           │
                        │  ┌─────────────────────────┐  │
                        │  │ action = get_action(    │  │
                        │  │   policy, state, t,     │  │
                        │  │   scenario)             │  │
                        │  └───────────┬─────────────┘  │
                        │              │                │
                        │              ▼                │
                        │  ┌─────────────────────────┐  │
                        │  │ state, record =         │  │
                        │  │   run_timestep(state,   │  │
                        │  │   action, t, config,    │  │
                        │  │   scenario, rng)        │  │
                        │  └─────────────────────────┘  │
                        └───────────────────────────────┘
                                        │
                                        ▼
                        ┌───────────────────────────────┐
                        │  outcome = compute_outcome(   │
                        │    step_records, config,      │
                        │    scenario)                  │
                        └───────────────────────────────┘
                                        │
                                        ▼
                                ┌───────────────┐
                                │    outcome    │
                                └───────────────┘
```

## Installation

Requires Julia 1.10 or later.

```julia
using Pkg
Pkg.add(url="https://github.com/dossgollin-lab/SimOptDecisions.jl")
```

## Next Steps

→ [Tutorial](tutorial/01-the-problem.qmd) — Learn SimOptDecisions through a complete worked example (house elevation under flood risk)

→ [Quick Reference](guide/getting-started.qmd) — Checklist of types and callbacks to implement
